<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>RTSP Live Viewer</title>
		<meta name="description" content="A tools to live view RTSP source directly in browser.">
		<meta name="color-scheme" content="light">
		<meta property="og:title" content="RTSP Live Viewer">
		<meta property="og:description" content="A tools to live view RTSP source directly in browser.">
		<link href="/root.css" rel="stylesheet" />
		<link href="/main.css" rel="stylesheet" />
	</head>
	<body class="container">
    <script type="text/javascript">
      function onReady(callback) {
				if(document.readyState == "complete" || (document.readyState != "loading" && !document.documentElement.doScroll))
					setTimeout(callback);
				else
					document.addEventListener("DOMContentLoaded", callback);
			}
      onReady(() => {
        const inputText = document.querySelector(".input-text");
        const inputButton = document.querySelector(".input-button");
        inputButton.addEventListener("click", e => {
          const text = inputText.value;
          const url = (() => { try { return new URL(text); } catch(_) { return null; } })();
          if(url == null) return;
          if(url.protocol != "rtsp:") return;
          document.location.pathname = `/viewer/${url.href}`;
        });
      });
    </script>
    <div class="left-section">
      <div class="title">RTSP Live Viewer</div>
      <div class="footer">Tugas Besar Cakru ARC 2024</div>
    </div>
    <div class="right-section">
      <div class="title">View an RTSP Source</div>
      <p class="subtitle">Enter your RTSP link below to live view it directly in this browser.</p>
      <input class="input-text" type="text" placeholder="rtsp://203.124.12.45/Camera1">
      <button class="input-button">View</button>
      <p class="disclaimer">By using this service you consent to the use of cookies and user agreements.</p>
    </div>
	</body>
</html>
